<!-- 2.1.1.1 Repository -->
<section id="JCR.eXoJCRconfiguration.Repository">
    <title>Repository</title>
  <!-- Repository service configuration (JCR repositories configuration) -->
  <para id="JCR.eXoJCRconfiguration.RepositoryServiceConfiguration">
    <citetitle>
      <emphasis role="bold">Repository service configuration</emphasis>
    </citetitle>
  </para>  

    <para>The service configuration is located at <filename>portal/WEB-INF/conf/jcr/repository-configuration.xml</filename> in the portal web application.
    </para>
    <itemizedlist>
        <listitem>
            <para><parameter>default-repository</parameter>: The name of a
            default repository (one returned by <parameter>RepositoryService.getRepository()</parameter>).</para>
        </listitem>
        <listitem>
            <para><parameter>repositories</parameter>: The list of repositories.</para>
        </listitem>
    </itemizedlist>
    <!-- Repository configuration -->  
    <para id="JCR.eXoJCRconfiguration.RepositoryConfiguration">
      <citetitle><emphasis role="bold">Repository configuration</emphasis></citetitle>
    </para> 
    <itemizedlist>
        <listitem>
            <para><parameter>name</parameter>: The name of a
            repository.</para>
        </listitem>
        <listitem>
            <para><parameter>default-workspace</parameter>: The name of a
            workspace obtained using <parameter>Session's login()</parameter> or <parameter>login(Credentials)</parameter> methods
            (ones without an explicit workspace name).</para>
        </listitem>
        <listitem>
            <para><parameter>system-workspace</parameter>: The name of
            workspace where <parameter>/jcr:system</parameter> node is
            placed.</para>
        </listitem>
        <listitem>
            <para><parameter>security-domain</parameter>: The name of a
            security domain for JAAS authentication.</para>
        </listitem>
        <listitem>
            <para><parameter>access-control</parameter>: The name of an
            access control policy. There may be 3 types:</para>
				<itemizedlist>
					<listitem>
						<para>optional - ACL is created on demand (default).</para>
					</listitem>
					<listitem>
						<para>disable - No access control.</para>
					</listitem>
					<listitem>
						<para>mandatory - An ACL is created for each added node (not supported yet).</para>
					</listitem>
				</itemizedlist>
        </listitem>
        <listitem>
            <para><parameter>authentication-policy</parameter>: The name of an authentication policy class.</para>
        </listitem>
        <listitem>
            <para><parameter>workspaces</parameter>: The list of
            workspaces.</para>
        </listitem>
        <listitem>
            <para><parameter>session-max-age</parameter>: The time after
            which an idle session will be removed (called logout). If session-max-age
            is not set up, idle session will never be removed.</para>
        </listitem>
      <listitem>
        <para id="JCR.eXoJCRconfiguration.LockRemoverMaxThreads"><parameter>lock-remover-max-threads</parameter>: Number
          of threads that
          can serve LockRemover tasks. The default value is "1". A repository may have many
          workspaces, each workspace have own LockManager. JCR supports Locks with
          defined lifetime and these locks removed as it becomes expired by LockRemovers. However,
          <parameter>LockRemovers</parameter>
          is not an independent
          timer-thread, it is a task that executes each 30 seconds. Such a task is served by
          <parameter>ThreadPoolExecutor</parameter>
          which may use various threads.
        </para>
      </listitem>
    </itemizedlist>
	<note>
		<para>See <link linkend="JCR.RepositoryCreationService">RepositoryCreationService</link> if you want to learn about how to create repositories in runtime.</para>
	</note>
</section>